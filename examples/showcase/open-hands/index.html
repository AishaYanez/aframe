<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A-Frame con Gestos</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
</head>
<body>

  <script>
    AFRAME.registerComponent('gesture-detector', {
      schema: {
        hand: { default: 'right' },
        gesture: { default: 'thumbup' }
      },

      init: function () {
        this.handleGesture = this.handleGesture.bind(this);
        this.el.addEventListener('gesture-detected', this.handleGesture);
      },

      tick: function () {
        const hand = this.el.sceneEl.querySelector(`[hand-controls="${this.data.hand}"]`);
        const gestureDetected = hand.components['super-hands'].get(this.data.gesture);

        if (gestureDetected) {
          this.el.emit('gesture-detected', { hand: this.data.hand, gesture: this.data.gesture });
        }
      },

      handleGesture: function (event) {
        console.log(`Gesture Detected - Hand: ${event.detail.hand}, Gesture: ${event.detail.gesture}`);
      }
    });
  </script>

  <a-scene>
    <a-box gesture-detector position="0 1 -3" material="color: red" grabbable></a-box>
    <a-entity hand-controls="left"></a-entity>
    <a-entity hand-controls="right"></a-entity>
    <a-camera></a-camera>
  </a-scene>

</body>
</html>
